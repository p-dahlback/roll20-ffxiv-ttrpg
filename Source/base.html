<link rel="stylesheet" href="sheet.css" />

<!-- Character name and race Task test -->

<div class="sticky section" spellcheck="false">
    <div class="top fancy section">
        <input type="hidden" class="overrideSwitch" name="attr_override" />

        <div class="type">
            <img name="attr_jobIcon" width="50" />
        </div>

        <div class="name content vertical tight overrideBlocked">
            <span class="header small bold">Name</span>
            <input class="large" name="attr_character_name" type="text">
        </div>
        
        <div class="race content vertical tight overrideBlocked">
            <span class="header small bold">Race</span>
            <input class="large" name="attr_character_race" type="text">
        </div>
        
        <div class="char-size content vertical tight overrideBlocked">
            <span class="header small bold">Size</span>
            <select name="attr_size">
                <option value="normal">Normal</option>
                <option value="large">Large</option>
                <option value="small">Small</option>
            </select>
        </div>
    </div>

    <!-- Shortcut for HP/MP -->

    <div class="stat-shortcut fancy lowkey section">
        <!-- HP -->

        <div class="points section">
            <div class="stat-header"></div>
            <div class="hit-point section">
                <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                <span class="text header large" style="width: 1em">HP</span>
                <input class="stat" name="attr_hitPoints" type="number" min="0" value="30">
                <span>/</span>
                <input class="stat max" name="attr_hitPoints_max" type="number" min="0" value="30">
                <span class="text header large">Barrier</span>
                <input class="stat" name="attr_barrierPoints" type="number" min="0" value="0">
            </div>
        </div>
        
        <!-- MP, Resource -->

        <div class="points section">
            <div class="small header bold stat-header">
                <span>Recover</span>
                <span name="attr_mpRecovery"></span>
                <span>MP at the end of the (Adventurer Step)</span>
            </div>
            <input type="hidden" class="doubleResourceSwitch" name="attr_resource2" placeholder="placeholder" />
            <div class="resource-point single-resource">
                <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                <span class="text header large" style="width: 1em">MP</span>
                <input class="stat" name="attr_magicPoints" type="number" min="0" value="5">
                <span>/</span>
                <input class="stat max" name="attr_magicPoints_max" type="number" min="0" value="5">

                <input class="text large resourceSwitch overridable" name="attr_resource" type="text" placeholder=" "/>
                <input class="stat resource" name="attr_resourceValue" type="number" min="0">
                <span class="resource">/</span>
                <input class="stat max resource" name="attr_resourceValue_max" type="number" min="0">
            </div>
            <div class="resource-point double-resource">
                <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                <span class="text header large" style="width: 1em">MP</span>
                <input class="stat" name="attr_magicPoints" type="number" min="0" value="5">
                <span>/</span>
                <input class="stat max" name="attr_magicPoints_max" type="number" min="0" value="5">

                <input class="text large overridable" name="attr_resource" type="text" placeholder=" "/>
                <input class="stat" name="attr_resourceValue" type="number" min="0">
                <span class="">/</span>
                <input class="stat max" name="attr_resourceValue_max" type="number" min="0">

                <input class="text large overridable" name="attr_resource2" type="text" placeholder=" "/>
                <input class="stat" name="attr_resource2Value" type="number" min="0">
                <span class="">/</span>
                <input class="stat max" name="attr_resource2Value_max" type="number" min="0">
            </div>
        </div>

        <!-- Advantage -->

        <div class="points advantage" style="width: 25%;">
            <label class="header large stat-header">Advantage</label>
            <div class="horizontal">
                <button class="math-button" type="action" name="act_decreaseAdvantage">-</button>
                <div>
                    <span class="large" style="font-family: dicefontd20;">0</span>
                    <span class="large" name="attr_advantage"></span>
                </div>
                <button class="math-button" type="action" name="act_increaseAdvantage">+</button>
            </div>
            <button type="action" name="act_clearAdvantage">Clear</button>
        </div>
    </div>

    <!-- Tab buttons -->

    <div class="tab">
        <input type="hidden" class="tabstoggle" name="attr_sheetTab" value="character" />
        <button type="action" name="act_character" class="toggle sheet-button0">Character</button>
        <button type="action" name="act_abilities" class="toggle sheet-button2">Abilities</button>
        <button type="action" name="act_items" class="toggle sheet-button1">Inventory</button>

        <div class="mini-effects hidden-controls">
            <fieldset class="repeating_effects">
                <span class="sheet-tooltip">
                    <img class="icon" name="attr_icon" />
                    <span name="attr_name" class="floatLeft"></span>
                </span>
            </fieldset>
        </div>

        <button type="action" name="act_settings" class="toggle sheet-button3">y</button>
    </div>
</div>

<input type="hidden" class="tabstoggle" name="attr_sheetTab" value="character" />

<!-- Profile page -->
<div class="character" spellcheck="false">
    <div class="grid fancy lowkey fill">

        <!-- Profile page, Level and Profile -->

        <div class="left section">
            <div class="basic-info fancy horizontal tight">
                <div class="level flex horizontal tight">
                    <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                    <span class="header large bold">LV</span>
                    <input class="header large bold" name="attr_level" type="number" value="30">
                </div>
                <div class="job vertical">
                    <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                    <span class="header medium bold">Role / Job</span>
                    <input class="job-input header medium" name="attr_role" type="text">
                </div>
            </div>
        
            <div class="image-container section">
                <img class="image" name="attr_character_avatar">
                <div class="fancy overlay"></div>
            </div>

            <!-- Profile -->

            <div class="profile section list">
                <h3 class="small">Profile</h3>

                <!-- Origin  -->
                <div class="origin">
                    <span class="header medium bold">Origin:</span>
                    <input class="medium" type="text" name="attr_origin" placeholder="Ex. Survivor, Urbanite"></span>
                </div>

                <!-- Bonds  -->
                <div class="bonds list">
                    <span class="header medium bold">Bonds:</span>
                    <div class="adaptive adaptive--text floatLeft">
                        <span class="mini-input adaptive--text__span"  name="attr_bonds"></span>
                        <textarea class="mini-input adaptive--text__textarea" name="attr_bonds" placeholder="Ex. Debt, Momodi Modi"></textarea>
                    </div>
                </div>

                <hr class="small-hr" />

                <!-- Title  -->

                <div class="title">
                    <span class="header medium bold">Title:</span>
                    <span class="medium" style="margin-left: 8px;" name="attr_selectedTitle">Select a title from Inventory</span>
                </div>
                <div class="title-effect list">
                    <span class="header medium bold">Effect: </span>
                    <span class="medium" name="attr_selectedTitleEffect"></span>
                </div>

                <hr class="small-hr" />

                <!-- Minion -->
                 
                <div class="minion">
                    <span class="header medium bold">Minion:</span> 
                    <span class="medium" style="margin-left: 8px;" name="attr_selectedMinion">Select a minion from Inventory</span>
                </div>
                <div class="minion-effect list">
                    <span class="header medium bold">Effect: </span>
                    <span class="medium" name="attr_selectedMinionEffect"></span>
                </div>
            </div>

            <!-- Traits -->

            <div class="traits fancy lowkey section">
                <div style="height: 27px; padding-bottom: 4px;">
                    <span class="small colored-in floatLeft">Traits</span>
                    <button type="action" class="floatRight" name="act_expandAllTraits">Expand All</button>
                    <button type="action" class="floatRight" name="act_collapseAllTraits">Collapse All</button>
                </div>
                <fieldset class="repeating_traits">
                    <div class="trait list">
                        <input class="expand-checkbox hidden" type="checkbox" name="attr_traitsExpandItem" />
                        <div class="item-header">
                            <input class="editSwitch" type="hidden" name="attr_editable" />
                            <input type="hidden" class="trait-icon-switch" name="attr_icon" placeholder="I" />
                            <img class="trait-icon" name="attr_icon" />
                            <span class="header medium bold">Trait:</span>
                            <input class="medium editSwitchBlocked" type="text" name="attr_title" placeholder="Title"></span>
                            <button type="action" class="ability-action" style="margin-left: auto;" name="act_share">q</button>
                            <button type="action" class="ability-action" name="act_info">i</button>
                        </div>
                        <div class="item-body list expanded-view">
                            <span class="header medium bold" style="margin-top: 4px;">Effect:</span>
                            <div class="adaptive adaptive--text floatLeft" style="margin-bottom: 8px;">
                                <input class="editSwitch" type="hidden" name="attr_editable" />
                                <span class="mini-input adaptive--text__span"  name="attr_effect"></span>
                                <textarea class="mini-input adaptive--text__textarea editSwitchBlocked" name="attr_effect" placeholder="The trait's effects"></textarea>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        
        <!-- Profile page, Attributes -->

        <div class="right fancy lowkey section">
            <div class="stat section horizontal tight">

                <!-- Primary -->

                <div class="main-stat list">
                    <h3 class="medium">Primary Attributes</h3>
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <button class="medium roll" name="act_rollStr" type="action">STR</button>
                        <span class="stat-effective large" name="attr_strEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_str" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <button class="medium roll" name="act_rollDex" type="action">DEX</button>
                        <span class="stat-effective large" name="attr_dexEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_dex" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <button class="medium roll" name="act_rollVit" type="action">VIT</button>
                        <span class="stat-effective large" name="attr_vitEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_vit" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <button class="medium roll" name="act_rollInt" type="action">INT</button>
                        <span class="stat-effective large" name="attr_intEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_int" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <button class="medium roll" name="act_rollMnd" type="action">MND</button>
                        <span class="stat-effective large" name="attr_mndEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_mnd" type="number" min="0">)
                        </div>
                    </div>
                </div>
                
                <!-- Secondary -->

                <div class="sub-stat list">
                    <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />

                    <h3 class="medium standard">Secondary Attributes</h3>
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <span class="header medium bold oneline">Defense</span>
                        <span class="stat-effective medium" name="attr_defenseEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_defense" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <span class="header medium bold oneline">Magic Defense</span>
                        <span class="stat-effective medium" name="attr_magicDefenseEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_magicDefense" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <span class="header medium bold oneline">Vigilance</span>
                        <span class="stat-effective medium" name="attr_vigilanceEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_vigilance" type="number" min="0">)
                        </div>
                    </div>
                    
                    <div class="stat-block">
                        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
                        <span class="header medium bold oneline">Speed</span>
                        <span class="stat-effective medium" name="attr_speedEffective"></span>
                        <div class="stat-edit overrideHide">
                            (<input class="stat small" name="attr_speed" type="number" min="0">)
                        </div>
                    </div>
                </div>
            </div>

            <!-- Turn Order / Fortune -->

            <div class="misc-stat fancy lowkey">
                <div class="flex horizontal tight floatLeft">
                    <span class="header bold medium">Turn Order</span>
                    <input class="stat medium" name="attr_turnOrder" type="number" min="0" value="1">
                    <button class="turn-order" type="roll" value="&{template:roll} {{title=Turn Order}} {{roll=[[@{turnOrder} &{tracker}]]}}"></button>
                </div>

                <div class="fortune fancy lowkey flex horizontal tight floatRight">
                    <span class="header bold medium">Fortune</span>
                    <input class="stat medium" name="attr_fortune" type="number" min="0" value="3">
                </div>
            </div>

            <!-- Effects -->

            <div class="effects section">
                <div style="height: 27px; padding-bottom: 4px; background-color: #c4b5a1;">
                    <span class="small colored-in floatLeft">Effects</span>
                    <button type="action" class="floatRight" name="act_expandAllEffects">Expand All</button>
                    <button type="action" class="floatRight" name="act_collapseAllEffects">Collapse All</button>
                </div>
                <fieldset class="repeating_effects">
                    <div class="effect">
                        <input class="expand-checkbox hidden" type="checkbox" name="attr_effectsExpandItem" />
                        <div class="effect-header">
                            <img class="effect-icon" name="attr_icon" />
                            <input type="hidden" class="typeSwitch" name="attr_type" />
                            <input type="hidden" class="editSwitch" name="attr_editable" />
                            <input type="text" class="effect-specialType typeSwitchDisplayed editSwitchBlocked" name="attr_specialType" placeholder="Effect" />
                            <select class="effect-type typeSwitchHidden editSwitchBlocked" name="attr_type">
                                <option value="none">--Select--</option>
                                <option value="roll(x)">Roll Up(X)</option>
                                <option value="damage">Damage Reroll</option>
                                <option value="critical(x)">Critical Up(X)</option>
                                <option value="attribute(x)">Attribute Up(X)</option>
                                <option value="regen(x)">Regen(X)</option>
                                <option value="ready(x)">X Ready</option>
                                <option value="advantage">Advantage</option>
                                <option value="unstunnable">Stun Immunity</option>
                                <option value="transcendent">Transcendent</option>
                                <hr />
                                <option value="blind">Blind</option>
                                <option value="bound">Bound</option>
                                <option value="enmity(x)">Enmity(Penalty)</option>
                                <option value="dot(x)">DOT(X)</option>
                                <option value="heavy">Heavy</option>
                                <option value="paralyzed">Paralyzed</option>
                                <option value="petrified">Petrified</option>
                                <option value="prone">Prone</option>
                                <option value="silence">Silence</option>
                                <option value="sleep">Sleep</option>
                                <option value="slow">Slow</option>
                                <option value="stun">Stun</option>
                                <hr />
                                <option value="weak">Weak</option>
                                <option value="brink">Brink of Death</option>
                                <hr />
                                <option value="special">Special</option>
                            </select>
                            <select class="effect-expiry" name="attr_expiry">
                                <option value="use">On use</option>
                                <hr />
                                <option value="encounterstart">Start of encounter</option>
                                <option value="stepstart">Start of the [Adventurer Step]</option>
                                <option value="start">Start of your turn</option>
                                <option value="turn">End of your turn</option>
                                <option value="step">End of the [Adventurer Step]</option>
                                <option value="round">End of this round</option>
                                <option value="turn2">End of your next turn</option>
                                <option value="phase">End of phase</option>
                                <option value="encounter">End of encounter</option>
                                <hr />
                                <option value="rest">After rest</option>
                                <option value="end">After adventure</option>
                                <option value="permanent">Permanent</option>
                                <hr />
                                <option value="damage">On damage</option>
                            </select>
                            <div class="button-container">
                                <button type="action" class="ability-action floatRight" name="act_info">i</button>
                                <button type="action" class="ability-action floatRight" name="act_share">q</button>
                            </div>
                        </div>
                        <div class="effect-body expanded-view">
                            <div class="status-type">
                                <span class="mini-title floatLeft">Type:</span>
                                <div class="adaptive adaptive--input floatLeft">
                                    <input type="hidden" class="editSwitch" name="attr_editable" />
                                    <span class="mini-input adaptive--input__span" name="attr_statusType"></span>
                                    <input class="mini-input adaptive--input__input editSwitchBlocked" type="text" name="attr_statusType" placeholder="Enhancement/Enfeeblement" />
                                </div>
                            </div>
                            <div>
                                <span class="mini-title floatLeft">Value:</span>
                                <div class="adaptive adaptive--input floatLeft">
                                    <input type="hidden" class="editSwitch" name="attr_editable" />
                                    <span class="mini-input adaptive--input__span" name="attr_value"></span>
                                    <input class="mini-input adaptive--input__input editSwitchBlocked" type="text" name="attr_value" placeholder="X" />
                                </div>
                            </div>
                            <div>
                                <span class="mini-title floatLeft">From:</span>
                                <div class="adaptive adaptive--input floatLeft">
                                    <input type="hidden" class="editSwitch" name="attr_editable" />
                                    <span class="mini-input adaptive--input__span" name="attr_source"></span>
                                    <input class="mini-input adaptive--input__input editSwitchBlocked" type="text" name="attr_source" placeholder="Creator?" />
                                </div>
                            </div>
                            <div>
                                <span class="mini-title floatLeft">Description:</span>
                                <div class="adaptive adaptive--text floatLeft">
                                    <input type="hidden" class="editSwitch" name="attr_editable" />
                                    <span class="mini-input adaptive--text__span" name="attr_description"></span>
                                    <textarea class="mini-input adaptive--text__textarea editSwitchBlocked" type="text" name="attr_description" placeholder="Describe how the effect works"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>

            <!-- Rest/End of phase -->

            <div class="rest-container colored-in">
                <div>
                    <span class="header medium bold">Reset</span>
                    <span class="small">your attributes and effects</span>
                </div>
                <div class="button-container">
                    <button type="action" class="phase-button" name="act_phase">End of phase</button>
                    <button type="action" class="end-button" name="act_end">End of adventure</button>
                    <button type="action" class="rest-button" name="act_rest">Long rest</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Abilities page -->

<div class="char-abilities" spellcheck="false">
    <!-- Top abilities (Bard songs) -->
    <input class="job-type" type="hidden" name="attr_job">

    <div class="ability-top">
        <button type="action" class="floatRight" name="act_expandAllAbilities">Expand All</button>
        <button type="action" class="floatRight" name="act_collapseAllAbilities">Collapse All</button>
    </div>

    <div class="top-abilities ability-sub-category">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_songHeaderExpandItem" />
        <div class="horizontal">
            <h3 class="large">Song Abilities</h3>
            <span class="medium">Song abilities can only be used after resolving <b>Bardsong</b>.</span>
            <button type="action" class="header-action" name="act_song_info">i</button>
        </div>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_song">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_songExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_songExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Primary abilities -->

    <div class="primary-abilities">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_primaryHeaderExpandItem" />
        <div>
            <button type="action" class="header-action" name="act_primary_info">i</button>
            <h3 class="large">Primary Abilities</h3>
        </div>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_primary">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_primaryExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_primaryExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Sub-abilities (Ninja jutsu) -->

    <div class="sub-abilities ability-sub-category">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_ninjutsuHeaderExpandItem" />
        <div class="horizontal">
            <h3 class="large">Ninjutsu Abilities</h3>
            <button type="action" class="header-action" name="act_ninjutsu_info">i</button>
        </div>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_ninjutsu">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_ninjutsuExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_ninjutsuExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Secondary abilities -->

    <div class="secondary-abilities">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_secondaryHeaderExpandItem" />
        <button type="action" class="header-action" name="act_secondary_info">i</button>
        <h3 class="large">Secondary Abilities</h3>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_secondary">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_secondaryExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_secondaryExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Instant abilities -->

    <div class="instant-abilities">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_instantHeaderExpandItem" />
        <button type="action" class="header-action" name="act_instant_info">i</button>
        <h3 class="large">Instant Abilities</h3>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_instant">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_instantExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_instantExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Conditional abilities (Monk techniques) -->

    <div class="conditional-abilities">
        <input class="expand-checkbox hidden" type="checkbox" name="attr_techniqueHeaderExpandItem" />
        <button type="action" class="header-action" name="act_technique_info">i</button>
        <h3 class="large">Technique Abilities</h3>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_technique">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_techniqueExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_techniqueExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
        <div class="collapse-overlay collapsed-view "></div>
    </div>

    <!-- Limit Break -->

    <div class="limit">
        <h3 class="large">Limit Break</h3>
        <input type="hidden" class="overrideSwitch" name="attr_override" placeholder="placeholder" />
        <fieldset class="repeating_limit">
            <div class="ability">
                <div class="header list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="hidden" class="usesFlag" name="attr_uses_max" />
                    <input type="hidden" class="costFlag" name="attr_cost" />
                    <input type="text" class="conditionFlag hidden" name="attr_condition" placeholder="P" />
                    <input type="text" class="triggerFlag hidden" name="attr_trigger" placeholder="P" />
                    <input type="text" class="targetFlag hidden" name="attr_target" placeholder="P" />
                    <input type="text" class="checkFlag hidden" name="attr_check" placeholder="P" />
                    <input type="text" class="crFlag hidden" name="attr_cr" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_limitExpandItem" />

                    <span class="mini flagTitle expanded-view floatLeft">Icon source:</span>
                    <input type="text" class="iconSource overrideContent expanded-view mini-input" name="attr_icon" title="Icon" placeholder="icon source" />

                    <div class="uses">
                        <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                        <input class="max mini-input floatRight" type="number" name="attr_uses_max" min="0" value="0" />
                        <span class="floatRight">/</span>
                        <input class="mini-input floatRight" type="number" name="attr_uses" min="0" value="0" />
                    </div>

                    <div class="header-title">
                        <img class="ability-icon" name="attr_icon" />
                        <div class="title adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="bold adaptive--text__span"  name="attr_title"></span>
                            <textarea class="adaptive--text__textarea" type="text" name="attr_title" placeholder="Paladin Combo (Fast Blade + Riot Blade)"></textarea>
                        </div>
                    </div>

                    <div class="ability-controls">
                        <button type="action" class="ability-action-trigger" name="act_trigger">t</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                        <button type="action" class="ability-action" name="act_share">q</button>
                        <button type="action" name="act_rolldamage" style="display: none;">d</button>
                        <button type="action" name="act_rolldamagewithbonus" style="display: none;">d</button>
                        <button type="action" name="act_runcombo1" style="display: none;">d</button>
                        <button type="action" name="act_runcombo2" style="display: none;">d</button>
                        <button type="action" name="act_runcombo3" style="display: none;">d</button>
                    </div>

                    <div class="type expanded-view">
                        <span class="mini-title floatLeft">Type:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input italic adaptive--text__span" name="attr_type"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_type" placeholder="Primary, Physical"></textarea>
                        </div>
                    </div>
                    <div class="cost expanded-view">
                        <span class="mini-title floatLeft">Cost:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cost"></span>
                            <input class="mini-input adaptive--input__input" type="number" name="attr_cost" placeholder="X" />
                        </div>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span"  name="attr_resource"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_resource" placeholder="Conviction" />
                        </div>
                    </div>
                    <div class="condition expanded-view">
                        <span class="mini-title floatLeft">Condition:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_condition"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_condition" placeholder="Under the effect of Fang and Claw Bared / Wheel in Motion Ready"></textarea>
                        </div>
                    </div>
                    <div class="trigger expanded-view">
                        <span class="mini-title floatLeft">Trigger:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_trigger"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_trigger" placeholder="Immediately after an ability check for an ability that targets you"></textarea>
                        </div>
                    </div>
                    <div class="target expanded-view">
                        <span class="mini-title floatLeft">Target:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_target"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_target" placeholder="Single"></textarea>
                        </div>
                    </div>
                    <div class="range expanded-view">
                        <span class="mini-title floatLeft">Range:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_range"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_range" placeholder="1 square"></textarea>
                        </div>
                    </div>
                    <div class="check expanded-view">
                        <span class="mini-title floatLeft">Check:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input bold adaptive--input__span" name="attr_check"></span>
                            <input class="mini-input bold adaptive--input__input" type="text" name="attr_check" placeholder="d20 + STR" />
                        </div>
                    </div>
                    <div class="cr expanded-view">
                        <span class="mini-title floatLeft">CR:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_cr"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_cr" placeholder="Target's Defense" />
                        </div>
                    </div>
                </div>

                <div class="body list">
                    <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                    <input type="text" class="directHitFlag hidden" name="attr_directHit" placeholder="P" />
                    <input type="text" class="effectFlag hidden" name="attr_effectName" placeholder="P" />
                    <input type="text" class="limitationFlag hidden" name="attr_limitation" placeholder="P" />
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_limitExpandItem" />

                    <div class="spacer expanded-view"></div>

                    <div class="base-effect expanded-view">
                        <span class="mini-title floatLeft">Base Effect:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_baseEffect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_baseEffect" placeholder="Deals 3 damage and inflicts Enmity on the target. Combo: Rage of Halone."></textarea>
                        </div>
                    </div>
                    <div class="ability-effect list expanded-view">
                        <div class="adaptive adaptive--input">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-title adaptive--input__span" name="attr_effectName"></span>
                            <span class="mini-title" name="attr_effectName">:</span>
                            <input class="mini-title adaptive--input__input" type="text" name="attr_effectName" placeholder="My Effect" />
                        </div>
                        <div class="adaptive adaptive--text">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_effect" placeholder="Provides 1 HP Barrier"></textarea>
                        </div>
                    </div>
                    <div class="direct-hit expanded-view">
                        <span class="mini-title floatLeft">Direct Hit:</span>
                        <div class="adaptive adaptive--text floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--text__span" name="attr_directHit"></span>
                            <textarea class="mini-input adaptive--text__textarea" type="text" name="attr_directHit" placeholder="Deals an additional 2d6 damage"></textarea>
                        </div>
                    </div>
                    <div class="limitation expanded-view">
                        <span class="mini-title floatLeft">Limitation:</span>
                        <div class="adaptive adaptive--input floatLeft">
                            <input type="hidden" class="overrideSwitch" name="attr_repeatingOverride" />
                            <span class="mini-input adaptive--input__span" name="attr_limitation"></span>
                            <input class="mini-input adaptive--input__input" type="text" name="attr_limitation" placeholder="Once per phase." />
                        </div>
                    </div>

                    <span class="mini flagTitle expanded-view floatLeft">Stat for rolls (used for calculations):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_stat" title="Stat for rolls" placeholder="STR, DEX, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Hit dice type (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_hitType">
                        <option value="Hit">Hit</option>
                        <option value="Critical">Critical</option>
                        <option value="None">None</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Damage/Healing (used for display on rolls):</span>
                    <select class="overrideContent expanded-view mini-input" name="attr_damageType">
                        <option value="Damage">Damage</option>
                        <option value="Healing">Healing</option>
                        <option value="Defense">Defense</option>
                        <option value="Effect">Effect</option>
                    </select>
                    <span class="mini flagTitle expanded-view floatLeft">Hit die (used for rolls):</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_hitDie" title="Hit" placeholder="1d20cs20, 1d8, etc"/>
                    <span class="mini flagTitle expanded-view floatLeft">Base effect dice/value (used to calculate damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_baseValue" title="Base effect value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Direct Hit dice/value (used to calculate extra damage)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_dhValue" title="Direct Hit value" placeholder="5, 1d20 + 2, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Restoration value (used to restore own HP/MP/resource, include space)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_restore" title="Restore value" placeholder="5 MP, 5 HP, 5 Conviction, etc" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on self (used to automatically add effects)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectSelf" title="Effect names" placeholder="Astral Fire, Surging Tempest" />
                    <span class="mini flagTitle expanded-view floatLeft">Effects on target (used to add effect shortcut button)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_effectTarget" title="Effect names" placeholder="Major Arcana, Mage's Ballad" />
                    <span class="mini flagTitle expanded-view floatLeft">Combo name (used for easy chaining to next ability)</span>
                    <input type="text" class="overrideContent expanded-view mini-input" name="attr_combo" title="Combo value" placeholder="Storm's Path, Storm's Eye" />
                </div>
            </div>
        </fieldset>
    </div>
</div>

<!-- Items page -->

<div class="items" spellcheck="false">

    <div class="ability-top">
        <button type="action" class="floatRight" name="act_expandAllItems">Expand All</button>
        <button type="action" class="floatRight" name="act_collapseAllItems">Collapse All</button>
    </div>

    <div class="grid">
        <div class="left fancy lowkey section list">

            <!-- Title List -->

            <h3 class="small colored-in">Titles</h3> 
            <fieldset class="repeating_titles">
                <div class="trait list">
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_titlesExpandItem" />
                    <div class="grid3 item-header">
                        <input class="medium" type="text" name="attr_title" placeholder="Enter the title name"></span>
                        <button type="action" class="ability-action" style="margin-left: auto;" name="act_share">q</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                    </div>
                    <div class="item-body list expanded-view">
                        <span class="header medium bold" style="margin-top: 4px;">Effect:</span>
                        <div class="adaptive adaptive--text floatLeft" style="margin-bottom: 8px;">
                            <span class="mini-input adaptive--text__span"  name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" name="attr_effect" placeholder="The effect provided by the Title"></textarea>
                        </div>
                        <div class="equip-container">
                            <button type="action" class="select floatRight" name="act_select">Equip</button>
                        </div>
                    </div>
                </div>
            </fieldset>

            <!-- Minion List -->

            <h3 class="small colored-in">Minions</h3>
            <fieldset class="repeating_minions">
                <div class="trait list">
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_minionsExpandItem" />
                    <div class="grid3 item-header">
                        <input class="medium" type="text" name="attr_title" placeholder="Enter the minion's name"></span>
                        <button type="action" class="ability-action" style="margin-left: auto;" name="act_share">q</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                    </div>
                    <div class="item-body list expanded-view">
                        <span class="header medium bold" style="margin-top: 4px;">Effect:</span>
                        <div class="adaptive adaptive--text floatLeft" style="margin-bottom: 8px;">
                            <span class="mini-input adaptive--text__span"  name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" name="attr_effect" placeholder="The effect provided by the Minion"></textarea>
                        </div>
                        <div class="equip-container">
                            <button type="action" class="select floatRight" name="act_select">Equip</button>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <!-- Item List -->

        <div class="right fancy lowkey section list vertical-span2">
            <h3 class="small colored-in">Items</h3>
            <fieldset class="repeating_items">

                <div class="trait list">
                    <input class="expand-checkbox hidden" type="checkbox" name="attr_itemsExpandItem" />
                    <div class="grid4 item-header">
                        <input class="medium" name="attr_title" type="text" placeholder="Item name" />
                        <input class="medium stat" name="attr_count" type="number" value="1" min="0" />
                        <button type="action" class="ability-action" style="margin-left: auto;" name="act_share">q</button>
                        <button type="action" class="ability-action" name="act_info">i</button>
                    </div>
                    <div class="item-body list expanded-view">
                        <span class="header medium bold" style="margin-top: 4px;">Effect:</span>
                        <div class="adaptive adaptive--text floatLeft" style="margin-bottom: 8px;">
                            <span class="mini-input adaptive--text__span"  name="attr_effect"></span>
                            <textarea class="mini-input adaptive--text__textarea" name="attr_effect" placeholder="The item's effect"></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<div class="char-settings" spellcheck="false">
    <div class="grid">
        <div class="entry fancy lowkey">
            <h3>Character type</h3>
            <p class="medium" style="margin-top: 8px;">Determines if calculations use the selected token or the character sheet.</p>
            <select name="attr_sheet_type">
                <option value="generic">Generic</option>
                <option value="unique">Unique</option>
            </select>
        </div>

        <div class="entry fancy lowkey">
            <h3>Team</h3>
            <p class="medium" style="margin-top: 8px;">Determines at which step in turn order the character regenerates MP.</p>
            <select name="attr_team">
                <option value="">--Select--</option>
                <option value="adventurer">Adventurer</option>
                <option value="enemy">Enemy</option>
            </select>
        </div>

        <div class="entry fancy lowkey">
            <h3>Job selector</h3>
            <p class="medium" style="margin-top: 8px;">Assigns the job, with automatically added actions (only some jobs supported)</p>
            <select name="attr_job">
                <option value="">--Select--</option>
                <!--
                <option value="DRK">Dark Knight</option>
                <option value="GNB">Gunbreaker</option>
                <option value="PLD">Paladin</option>
                !-->
                <option value="WAR">Warrior</option>
                <hr />
                <option value="AST">Astrologian</option>
                <!--
                <option value="SGE">Sage</option>
                <option value="SCH">Scholar</option>
                <option value="WHM">White Mage</option>
                <hr />
                <option value="DRG">Dragoon</option>
                <option value="MNK">Monk</option>
                <option value="NIN">Ninja</option>
                <option value="RPR">Reaper</option>
                <option value="SAM">Samurai</option>
                <option value="VIP">Viper</option>
                <hr />
                !-->
                <option value="BRD">Bard</option>
                <!--
                <option value="DNC">Dancer</option>
                <option value="MCH">Machinist</option>
                <hr />
                !-->
                <option value="BLM">Black Mage</option>
                <!--
                <option value="PCT">Pictomancer</option>
                <option value="RDM">Red Mage</option>
                <option value="SMN">Summoner</option>
                <hr />
                <option value="BLU">Blue Mage</option>
                -->
            </select>
        </div>
    </div>

    <div class="override fancy lowkey">
        <h3>Manual Override</h3>
        <p class="medium" style="margin-top: 8px;">Enables manual input for things the player would normally not mess with, things used mostly during initial sheet creation.</p>
        <p class="medium">Mess with at your own risk!</p>
        <input type="text" class="large" name="attr_override" placeholder="Enter 'auto' to disable manual editing" value="" />
    </div>
</div>

<div class="attribution list">
    <span class="mini">FXIV TTRPG Character Sheet for Roll20. Fan-made, no association with Square Enix.</span>
    <span class="mini">Custom borders and icons for jobs, abilities and effects are property of Square Enix Ltd.</span>
</div>

<rolltemplate class="sheet-rolltemplate-roll">
    <div class="sheet-template-container">
        <div class="sheet-header">
            <h3 class="sheet-title">{{title}}</h3>
        </div>
        <div class="sheet-body">
            <span class="sheet-subtitle">Result:</span>
            <span class="sheet-roll">{{computed::roll}}</span>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ability">
    <div class="sheet-ability-template">
        <div class="sheet-header sheet-list">
            <div class="sheet-header-title">
                <div class="sheet-ability-icon">
                    {{icon}}
                </div>
                <div class="sheet-title">
                    <span class="sheet-bold">{{name}}</span>
                </div>
            </div>
            <div class="sheet-header-subtitle sheet-list">
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">Type:</span>
                    <span class="sheet-mini-input sheet-floatLeft sheet-italic">{{type}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{costTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{cost}}</span>
                    <span class="sheet-mini-input sheet-floatLeft" style="margin-left: 4px;">{{resourceType}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{conditionTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{condition}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{triggerTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{trigger}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{targetTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{target}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{rangeTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{range}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{checkTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft sheet-bold">{{check}}</span>
                </div>
                <div>
                    <span class="sheet-mini-title sheet-floatLeft">{{crTitle}}</span>
                    <span class="sheet-mini-input sheet-floatLeft">{{cr}}</span>
                </div>
            </div>
        </div>
        <div class="sheet-body">
            <div>
                <span class="sheet-mini-title sheet-floatLeft">{{baseEffectTitle}}</span>
                <span class="sheet-mini-input sheet-floatLeft">{{baseEffect}}</span>
            </div>
            <div>
                <span class="sheet-mini-title sheet-floatLeft">{{effectTitle}}</span>
                <span class="sheet-mini-input sheet-floatLeft">{{effect}}</span>
            </div>
            <div>
                <span class="sheet-mini-title sheet-floatLeft">{{directHitTitle}}</span>
                <span class="sheet-mini-input sheet-floatLeft">{{directHit}}</span>
            </div>
            <div>
                <span class="sheet-mini-title sheet-floatLeft">{{limitationTitle}}</span>
                <span class="sheet-mini-input sheet-floatLeft">{{limitation}}</span>
            </div>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-hit">
    <div class="sheet-ability-template">
        <div class="sheet-header">
            <div class="sheet-header-title">
                <div class="sheet-ability-icon">
                    {{icon}}
                </div>
                <div class="sheet-title">
                    <span class="sheet-bold">{{name}}</span>
                </div>
            </div>
            <div class="sheet-header-subtitle">
                <h4>{{cost}}</h4>
                <h4>{{type}}</h4>
                <div>
                    <span class="sheet-mini-title">{{conditionTitle}}</span>
                    <span class="sheet-mini-input">{{condition}}</span>
                </div>
            </div>
        </div>
        <div class="sheet-body sheet-list">
            <div>
                <span class="sheet-mini-title">Base Effect:</span>
                <span class="sheet-mini-input">{{baseEffect}}</span>
            </div>
            <div>
                <span class="sheet-mini-title sheet-floatLeft">{{effectTitle}}</span>
                <span class="sheet-mini-input sheet-floatLeft">{{effect}}</span>
            </div>
            <div>
                <span class="sheet-mini-title">{{directHitTitle}}</span>
                <span class="sheet-mini-input">{{directHit}}</span>
            </div>
            <h4>{{hitTitle}}{{computed::hit}}</h4>
            <h4>{{cr}}</h4>
            <span class="sheet-hidden-switch">{{button}}</span>
            <div class="sheet-button-container sheet-hidable">{{button}}</div>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-damage">
    <div class="sheet-template-container">
        <div class="sheet-header">
            <h4 class="sheet-title">{{title}}</h4>
            <div class="sheet-list">
                <span class="sheet-mini-input">{{cost}}</span>
                <span class="sheet-mini-input sheet-hideinline">{{computed::proc}}</span>
            </div>
            <h4>{{damageTitle}}{{computed::damage}}</h4>
            <h4>{{directHitTitle}}{{computed::directHit}}</h4>
        </div>
        <span class="sheet-hidden-switch">{{totalTitle}}{{targetEffectTitle}}{{comboTitle}}</span>
        <div class="sheet-body sheet-hidable">
            <div class="sheet-total-container">
                <h4 class="sheet-top-header">{{totalTitle}}</h4><h4 class="sheet-hideinline" style="margin-top: auto; margin-bottom: auto;">{{computed::total}}</h4>
            </div>
            <span class="sheet-hidden-switch sheet-effect-switch">{{targetEffectTitle}}</span>
            <div class="sheet-effects sheet-button-container">
                <h4 class="sheet-button-header">{{targetEffectTitle}}</h4>
                {{targetEffects}}
            </div>
            <span class="sheet-hidden-switch sheet-combo-switch">{{comboTitle}}</span>
            <div class="sheet-combo sheet-button-container">
                <h4 class="sheet-button-header">{{comboTitle}}</h4>
                {{button}}
            </div>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-item">
    <div class="sheet-template-container">
        <div class="sheet-header">
            <h3 class="sheet-type">
                <div class="sheet-ability-icon">{{icon}}</div>
                <span>{{type}}</span>
            </h3>
            <h3 class="sheet-title">{{title}}</h3>
        </div>
        <div class="sheet-body">
            <span class="sheet-subtitle">Effect:</span>
            <span class="sheet-paragraph">{{effect}}</span>
        </div>
    </div>
</rolltemplate>